{"version":3,"file":"static/js/241.3148fdfe.chunk.js","mappings":"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","sources":["components/MoviesList/MovieLink/MovieLink.jsx","components/MoviesList/MoviesList.jsx","components/Notification/Notification.styled.js","components/Notification/Notification.jsx","components/Shared/Section.styled.js","images/search.svg","components/SearchForm/SearchForm.styled.js","components/SearchForm/SearchForm.jsx","pages/Movies.jsx","services/api.js"],"sourcesContent":["import PropTypes from 'prop-types';\nimport { Link, useLocation } from 'react-router-dom';\nimport noPoster from '../../../images/no-poster.jpg';\n\nexport const MovieLink = ({ movieId, posterPath, title }) => {\n  const location = useLocation();\n  const movieLink = `/movies/${movieId}`;\n  const poster = `https://image.tmdb.org/t/p/w500${posterPath}`;\n\n  return (\n    <li>\n      <Link to={movieLink} state={{ from: location }}>\n        <img\n          src={posterPath ? poster : noPoster}\n          alt={title}\n          width={230}\n          height={345}\n        />\n        {title}\n      </Link>\n    </li>\n  );\n};\n\nMovieLink.propTypes = {\n  movieId: PropTypes.number.isRequired,\n  posterPath: PropTypes.string.isRequired,\n  title: PropTypes.string.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport { MovieLink } from './MovieLink/MovieLink';\n\nexport const MoviesList = ({ moviesData }) => {\n  return (\n    <ul>\n      {moviesData.map(({ id, original_title, poster_path }) => (\n        <MovieLink\n          key={id}\n          movieId={id}\n          posterPath={poster_path}\n          title={original_title}\n        />\n      ))}\n    </ul>\n  );\n};\n\nMoviesList.propTypes = {\n  moviesData: PropTypes.array.isRequired,\n};\n","import styled from 'styled-components';\n\nexport const Message = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  height: 100%;\n`;\n\nexport const Text = styled.p`\n  font-size: 26px;\n  font-weight: 600;\n  text-align: center;\n  color: #777;\n`;\n","import PropTypes from 'prop-types';\nimport { Message, Text } from './Notification.styled';\nimport notFound from '../../images/notFound.jpg';\n\nexport const Notification = ({ message }) => {\n  return (\n    <Message>\n      <img src={notFound} alt=\"not found\" width=\"280px\" />\n      <Text>{message}</Text>\n    </Message>\n  );\n};\n\nNotification.propTypes = {\n  message: PropTypes.string,\n};\n","import styled from 'styled-components';\n\nexport const Section = styled.section`\n  width: 100%;\n  padding: 16px 0px;\n`;\n","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgSearch(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 32 32\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title === undefined ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, \"search\") : title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M31.008 27.231l-7.58-6.447c-0.784-0.705-1.622-1.029-2.299-0.998 1.789-2.096 2.87-4.815 2.87-7.787 0-6.627-5.373-12-12-12s-12 5.373-12 12 5.373 12 12 12c2.972 0 5.691-1.081 7.787-2.87-0.031 0.677 0.293 1.515 0.998 2.299l6.447 7.58c1.104 1.226 2.907 1.33 4.007 0.23s0.997-2.903-0.23-4.007zM12 20c-4.418 0-8-3.582-8-8s3.582-8 8-8 8 3.582 8 8-3.582 8-8 8z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgSearch);\nexport default __webpack_public_path__ + \"static/media/search.6ac6b6bcaab3e1f140239b578f8e8c63.svg\";\nexport { ForwardRef as ReactComponent };","import styled from 'styled-components';\n\nexport const SearchFormStyled = styled.form`\n  display: flex;\n  align-items: center;\n  width: 100%;\n  max-width: 600px;\n  background-color: #fff;\n  border-radius: 3px;\n  overflow: hidden;\n`;\n\nexport const SearchFormButton = styled.button`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 48px;\n  height: 34px;\n  /* border: 0; */\n  opacity: 0.6;\n  transition: opacity 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  cursor: pointer;\n  outline: none;\n  :hover,\n  :focus {\n    opacity: 1;\n  }\n`;\n\nexport const ButtonLabel = styled.span`\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  clip-path: inset(50%);\n  border: 0;\n`;\n\nexport const SearchFormInput = styled.input`\n  display: inline-block;\n  width: 100%;\n  height: 100%;\n  font: inherit;\n  font-size: 20px;\n  /* border: none; */\n  outline: none;\n  padding-left: 10px;\n  padding-right: 4px;\n  ::placeholder {\n    font: inherit;\n    font-size: 18px;\n  }\n`;\n","import PropTypes from 'prop-types';\nimport { useState } from 'react';\nimport { ReactComponent as SearchIcon } from '../../images/search.svg';\nimport {\n  SearchFormStyled,\n  SearchFormButton,\n  SearchFormInput,\n  ButtonLabel,\n} from './SearchForm.styled';\n\nexport const SearchForm = ({ onFormSubmit }) => {\n  const [searchQuery, setSearchQuery] = useState('');\n\n  const handleСhange = evt => {\n    setSearchQuery(evt.target.value);\n  };\n\n  const handleSubmit = evt => {\n    evt.preventDefault();\n\n    if (searchQuery.trim() === '') return;\n\n    onFormSubmit(searchQuery.toLowerCase().trim());\n\n    setSearchQuery('');\n  };\n\n  return (\n    <SearchFormStyled autoComplete=\"off\" onSubmit={handleSubmit}>\n      <SearchFormInput\n        type=\"text\"\n        name=\"searchValue\"\n        autoFocus\n        placeholder=\"Search movies\"\n        value={searchQuery}\n        onChange={handleСhange}\n      />\n      <SearchFormButton type=\"submit\">\n        <ButtonLabel>Search</ButtonLabel>\n        <SearchIcon width=\"20\" height=\"20\" />\n      </SearchFormButton>\n    </SearchFormStyled>\n  );\n};\n\nSearchForm.propTypes = {\n  onFormSubmit: PropTypes.func.isRequired,\n};\n","import { useEffect, useState } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { fetchMovies } from 'services/api';\nimport { SearchForm } from 'components/SearchForm/SearchForm';\nimport { Container } from 'components/Shared/Container.styled';\nimport { Section } from 'components/Shared/Section.styled';\nimport { Loader } from 'components/Loader/Loader';\nimport { Notification } from 'components/Notification/Notification';\nimport { MoviesList } from 'components/MoviesList/MoviesList';\n\nconst Movies = () => {\n  const [searchParams, setSearchParams] = useSearchParams({});\n  const [moviesData, setMoviesData] = useState([]);\n  const [status, setStatus] = useState('idle');\n\n  const searchQuery = searchParams.get('query');\n\n  useEffect(() => {\n    if (!searchQuery) return;\n\n    setStatus('pending');\n\n    const controller = new AbortController();\n\n    (async () => {\n      try {\n        const res = await fetchMovies(searchQuery, controller);\n        setMoviesData(res);\n        setStatus('resolved');\n      } catch (error) {\n        console.error(error.message);\n        setStatus('rejected');\n      }\n    })();\n\n    return () => {\n      controller.abort();\n    };\n  }, [searchQuery]);\n\n  const onFormSubmit = searchValue => {\n    setSearchParams(searchValue ? { query: searchValue } : {});\n  };\n\n  return (\n    <Section>\n      <Container>\n        <SearchForm onFormSubmit={onFormSubmit} />\n        {status === 'idle' && <p>{`Let's find some movies`}</p>}\n        {status === 'pending' && <Loader />}\n        {status === 'rejected' && (\n          <Notification message=\"Ooops, something went wrong\" />\n        )}\n        {status === 'resolved' && moviesData.length === 0 && (\n          <Notification\n            message={`Sorry, we did not find any movies for \"${searchQuery}\"`}\n          />\n        )}\n        {status === 'resolved' && <MoviesList moviesData={moviesData} />}\n      </Container>\n    </Section>\n  );\n};\n\nexport default Movies;\n","import axios from 'axios';\n\nconst API_BASE_URL = 'https://api.themoviedb.org/3';\nconst API_KEY = '76d635679cabf189c0749ed5946c0835';\n\nexport async function fetchTrending(controller) {\n  const url = `${API_BASE_URL}/trending/movie/day`;\n  const urlParams = {\n    api_key: API_KEY,\n  };\n\n  const response = await axios.get(url, {\n    params: urlParams,\n    signal: controller.signal,\n  });\n\n  return response.data.results;\n}\n\nexport async function fetchMovies(searchQuery, controller) {\n  const url = `${API_BASE_URL}/search/movie`;\n  const urlParams = {\n    api_key: API_KEY,\n    query: searchQuery,\n  };\n\n  const response = await axios.get(url, {\n    params: urlParams,\n    signal: controller.signal,\n  });\n\n  return response.data.results;\n}\n\nexport async function fetchMovieDetails(id, controller) {\n  const url = `${API_BASE_URL}/movie/${id}`;\n  const urlParams = {\n    api_key: API_KEY,\n  };\n\n  const response = await axios.get(url, {\n    params: urlParams,\n    signal: controller.signal,\n  });\n\n  return response.data;\n}\n\nexport async function fetchCast(id, controller) {\n  const url = `${API_BASE_URL}/movie/${id}/credits`;\n  const urlParams = {\n    api_key: API_KEY,\n  };\n\n  const response = await axios.get(url, {\n    params: urlParams,\n    signal: controller.signal,\n  });\n\n  return response.data.cast;\n}\n\nexport async function fetchReviews(id, controller) {\n  const url = `${API_BASE_URL}/movie/${id}/reviews`;\n  const urlParams = {\n    api_key: API_KEY,\n  };\n\n  const response = await axios.get(url, {\n    params: urlParams,\n    signal: controller.signal,\n  });\n\n  return response.data.results;\n}\n"],"names":["MovieLink","movieId","posterPath","title","location","useLocation","movieLink","poster","to","state","from","src","noPoster","alt","width","height","MoviesList","moviesData","map","id","original_title","poster_path","Message","styled","Text","Notification","message","notFound","Section","_path","_excluded","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgSearch","_ref","svgRef","titleId","props","xmlns","viewBox","ref","undefined","d","ForwardRef","SearchFormStyled","SearchFormButton","ButtonLabel","SearchFormInput","SearchForm","onFormSubmit","useState","searchQuery","setSearchQuery","autoComplete","onSubmit","evt","preventDefault","trim","toLowerCase","type","name","autoFocus","placeholder","value","onChange","useSearchParams","searchParams","setSearchParams","setMoviesData","status","setStatus","get","useEffect","controller","AbortController","fetchMovies","res","console","error","abort","searchValue","query","Loader","API_BASE_URL","API_KEY","fetchTrending","url","urlParams","api_key","axios","params","signal","response","data","results","fetchMovieDetails","fetchCast","cast","fetchReviews"],"sourceRoot":""}