{"version":3,"file":"static/js/296.8d907971.chunk.js","mappings":"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","sources":["components/MovieDetails/Description/Description.styled.js","components/MovieDetails/Description/Description.jsx","components/MovieDetails/MovieDetails.styled.js","components/MovieDetails/MovieDetails.jsx","components/Notification/Notification.jsx","components/Notification/Notification.styled.js","components/Shared/Section.styled.js","services/api.js"],"sourcesContent":["import styled from 'styled-components';\nimport { NavLink } from 'react-router-dom';\n\nexport const DescriptionContainer = styled.div`\n  margin-bottom: 32px;\n\n  @media screen and (min-width: 768px) {\n    display: grid;\n    grid-template-columns: 240px 1fr;\n  }\n`;\n\nexport const MovieImage = styled.img`\n  display: block;\n  width: 100%;\n  max-width: 280px;\n  height: auto;\n  margin-left: auto;\n  margin-right: auto;\n  object-fit: contain;\n  border-radius: 6px;\n\n  @media screen and (max-width: 767px) {\n    margin-bottom: 16px;\n    max-width: 340px;\n  }\n`;\n\nexport const MovieDescription = styled.div`\n  padding: 16px;\n`;\n\nexport const MovieTitle = styled.h2`\n  margin-bottom: 16px;\n\n  @media screen and (max-width: 767px) {\n    text-align: center;\n  }\n`;\n\nexport const Paragraph = styled.p`\n  :not(:last-child) {\n    margin-bottom: 16px;\n  }\n`;\n\nexport const ParagraphTitle = styled.h3`\n  display: block;\n  margin-bottom: 8px;\n  font-weight: 600;\n  font-size: 22px;\n`;\n\nexport const LinksList = styled.ul`\n  display: flex;\n  justify-content: center;\n  margin-bottom: 32px;\n  padding: 8px;\n`;\n\nexport const LinksItem = styled.li`\n  :not(:last-child) {\n    margin-right: 16px;\n  }\n`;\n\nexport const NavigationLink = styled(NavLink)`\n  display: inline-block;\n  padding: 8px;\n  border-radius: 6px;\n  font-weight: 600;\n  text-decoration: none;\n  color: inherit;\n  transition: color 250ms ease, background-color 250ms ease;\n\n  &.active {\n    color: rgb(255, 255, 255);\n    background-color: rgb(34, 139, 34);\n  }\n\n  :hover:not(.active),\n  :focus:not(.active) {\n    color: rgb(34, 139, 34);\n  }\n\n  :not(:last-child) {\n    margin-right: 16px;\n  }\n`;\n","import PropTypes from 'prop-types';\nimport { Suspense } from 'react';\nimport { Outlet, useLocation } from 'react-router-dom';\nimport { Loader } from 'components/Loader/Loader';\nimport noPoster from 'images/no-poster.jpg';\nimport {\n  DescriptionContainer,\n  LinksItem,\n  LinksList,\n  MovieDescription,\n  MovieImage,\n  MovieTitle,\n  NavigationLink,\n  Paragraph,\n  ParagraphTitle,\n} from './Description.styled';\n\nconst Description = ({\n  movieDetails: {\n    poster_path,\n    original_title,\n    release_date,\n    vote_average,\n    overview,\n    genres,\n  },\n}) => {\n  const location = useLocation();\n  const backLinkHref = location.state?.from ?? '/';\n  const poster = `https://image.tmdb.org/t/p/w500${poster_path}`;\n\n  return (\n    <>\n      <DescriptionContainer>\n        <MovieImage\n          src={poster_path ? poster : noPoster}\n          alt={original_title}\n        />\n        <MovieDescription>\n          <Paragraph />\n          <MovieTitle>\n            {`${original_title} (${release_date.slice(0, 4)})`}\n          </MovieTitle>\n          <p>{`User Score: ${Math.round(vote_average * 10)}%`}</p>\n          <Paragraph />\n          <Paragraph>\n            <ParagraphTitle>Overview</ParagraphTitle>\n            <p>{overview ?? 'Overview not found'}</p>\n          </Paragraph>\n          <Paragraph>\n            <ParagraphTitle>Genres</ParagraphTitle>\n            <p>\n              {genres.length\n                ? genres.map(genre => genre.name).join(', ')\n                : 'Genres are not specified'}\n            </p>\n          </Paragraph>\n        </MovieDescription>\n      </DescriptionContainer>\n      <LinksList>\n        <LinksItem>\n          <NavigationLink to=\"cast\" state={{ from: backLinkHref }}>\n            Cast\n          </NavigationLink>\n        </LinksItem>\n        <LinksItem>\n          <NavigationLink to=\"reviews\" state={{ from: backLinkHref }}>\n            Reviews\n          </NavigationLink>\n        </LinksItem>\n      </LinksList>\n      <Suspense fallback={<Loader />}>\n        <Outlet />\n      </Suspense>\n    </>\n  );\n};\n\nexport default Description;\n\nDescription.propTypes = {\n  movieDetails: PropTypes.shape({\n    poster_path: PropTypes.string,\n    original_title: PropTypes.string.isRequired,\n    release_date: PropTypes.string.isRequired,\n    vote_average: PropTypes.number.isRequired,\n    overview: PropTypes.string.isRequired,\n    genres: PropTypes.array.isRequired,\n  }).isRequired,\n};\n","import { Link } from 'react-router-dom';\nimport styled from 'styled-components';\n\nexport const BackLink = styled(Link)`\n  display: inline-block;\n  margin-bottom: 16px;\n  padding: 10px;\n  border-radius: 8px;\n  font-weight: 600;\n  text-decoration: none;\n  color: inherit;\n  transition: color 250ms ease, background-color 250ms ease;\n\n  :hover,\n  :focus {\n    color: rgb(255, 255, 255);\n    background-color: rgb(34, 139, 34);\n  }\n`;\n","import { useEffect, useState, useRef } from 'react';\nimport { useLocation, useParams } from 'react-router-dom';\nimport { fetchMovieDetails } from 'services/api';\nimport Description from './Description/Description';\nimport { Loader } from 'components/Loader/Loader';\nimport { Notification } from 'components/Notification/Notification';\nimport { Container } from 'components/Shared/Container.styled';\nimport { Section } from 'components/Shared/Section.styled';\nimport { BackLink } from './MovieDetails.styled';\n\nconst MovieDetails = () => {\n  const { movieId } = useParams();\n  const location = useLocation();\n  const backRef = useRef(location.state?.from ?? '/');\n\n  const [movieDetails, setMovieDetails] = useState({});\n  const [status, setStatus] = useState('idle');\n\n  useEffect(() => {\n    if (!movieId) return;\n\n    setStatus('pending');\n\n    const controller = new AbortController();\n\n    (async () => {\n      try {\n        const res = await fetchMovieDetails(movieId, controller);\n        setMovieDetails(res);\n        setStatus('resolved');\n      } catch (error) {\n        console.error(error.message);\n        setStatus('rejected');\n      }\n    })();\n\n    return () => {\n      controller.abort();\n    };\n  }, [movieId]);\n\n  return (\n    <Section>\n      <Container>\n        <BackLink to={backRef.current}>{'< Go back'}</BackLink>\n        {status === 'pending' && <Loader />}\n        {status === 'rejected' && (\n          <Notification message=\"Ooops, something went wrong\" />\n        )}\n        {status === 'resolved' && movieDetails && (\n          <Description movieDetails={movieDetails} />\n        )}\n      </Container>\n    </Section>\n  );\n};\n\nexport default MovieDetails;\n","import PropTypes from 'prop-types';\nimport { Message, NotificationText } from './Notification.styled';\nimport notFound from 'images/notFound.jpg';\n\nexport const Notification = ({ message }) => {\n  return (\n    <Message>\n      <img src={notFound} alt=\"not found\" width=\"280px\" />\n      <NotificationText>{message}</NotificationText>\n    </Message>\n  );\n};\n\nNotification.propTypes = {\n  message: PropTypes.string,\n};\n","import styled from 'styled-components';\n\nexport const Message = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  height: 100%;\n`;\n\nexport const NotificationText = styled.p`\n  padding: 32px 0px;\n  font-size: 26px;\n  font-weight: 600;\n  text-align: center;\n  color: #777;\n`;\n","import styled from 'styled-components';\n\nexport const Section = styled.section`\n  width: 100%;\n  padding: 16px 0px;\n`;\n","import axios from 'axios';\n\nconst API_BASE_URL = 'https://api.themoviedb.org/3';\nconst API_KEY = '76d635679cabf189c0749ed5946c0835';\n\nexport async function fetchTrending(controller) {\n  const url = `${API_BASE_URL}/trending/movie/day`;\n  const urlParams = {\n    api_key: API_KEY,\n  };\n\n  const response = await axios.get(url, {\n    params: urlParams,\n    signal: controller.signal,\n  });\n\n  return response.data.results;\n}\n\nexport async function fetchMovies(searchQuery, controller) {\n  const url = `${API_BASE_URL}/search/movie`;\n  const urlParams = {\n    api_key: API_KEY,\n    query: searchQuery,\n  };\n\n  const response = await axios.get(url, {\n    params: urlParams,\n    signal: controller.signal,\n  });\n\n  return response.data.results;\n}\n\nexport async function fetchMovieDetails(id, controller) {\n  const url = `${API_BASE_URL}/movie/${id}`;\n  const urlParams = {\n    api_key: API_KEY,\n  };\n\n  const response = await axios.get(url, {\n    params: urlParams,\n    signal: controller.signal,\n  });\n\n  return response.data;\n}\n\nexport async function fetchCast(id, controller) {\n  const url = `${API_BASE_URL}/movie/${id}/credits`;\n  const urlParams = {\n    api_key: API_KEY,\n  };\n\n  const response = await axios.get(url, {\n    params: urlParams,\n    signal: controller.signal,\n  });\n\n  return response.data.cast;\n}\n\nexport async function fetchReviews(id, controller) {\n  const url = `${API_BASE_URL}/movie/${id}/reviews`;\n  const urlParams = {\n    api_key: API_KEY,\n  };\n\n  const response = await axios.get(url, {\n    params: urlParams,\n    signal: controller.signal,\n  });\n\n  return response.data.results;\n}\n"],"names":["DescriptionContainer","styled","MovieImage","MovieDescription","MovieTitle","Paragraph","ParagraphTitle","LinksList","LinksItem","NavigationLink","NavLink","movieDetails","poster_path","original_title","release_date","vote_average","overview","genres","backLinkHref","useLocation","state","from","poster","src","noPoster","alt","slice","Math","round","length","map","genre","name","join","to","Suspense","fallback","Loader","BackLink","Link","movieId","useParams","location","backRef","useRef","useState","setMovieDetails","status","setStatus","useEffect","controller","AbortController","fetchMovieDetails","res","console","error","message","abort","current","Notification","notFound","width","Message","NotificationText","Section","API_BASE_URL","API_KEY","fetchTrending","url","urlParams","api_key","axios","params","signal","response","data","results","fetchMovies","searchQuery","query","id","fetchCast","cast","fetchReviews"],"sourceRoot":""}