"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[296],{8296:function(n,t,e){e.r(t),e.d(t,{default:function(){return q}});var r,i,a,o,s,c,u,d,p,l,x=e(5861),f=e(885),h=e(7757),g=e.n(h),m=e(2791),v=e(7689),b=e(4390),j=e(7793),w=e(4757),Z=e(168),y=e(6444),k=e(6731),P=y.ZP.div(r||(r=(0,Z.Z)(["\n  margin-bottom: 32px;\n\n  @media screen and (min-width: 768px) {\n    display: grid;\n    grid-template-columns: 240px 1fr;\n  }\n"]))),_=y.ZP.img(i||(i=(0,Z.Z)(["\n  display: block;\n  width: 100%;\n  max-width: 280px;\n  height: auto;\n  margin-left: auto;\n  margin-right: auto;\n  object-fit: contain;\n  border-radius: 6px;\n\n  @media screen and (max-width: 767px) {\n    margin-bottom: 16px;\n    max-width: 340px;\n  }\n"]))),O=y.ZP.div(a||(a=(0,Z.Z)(["\n  padding: 16px;\n"]))),U=y.ZP.h2(o||(o=(0,Z.Z)(["\n  margin-bottom: 16px;\n\n  @media screen and (max-width: 767px) {\n    text-align: center;\n  }\n"]))),C=y.ZP.p(s||(s=(0,Z.Z)(["\n  :not(:last-child) {\n    margin-bottom: 16px;\n  }\n"]))),S=y.ZP.h3(c||(c=(0,Z.Z)(["\n  display: block;\n  margin-bottom: 8px;\n  font-weight: 600;\n  font-size: 22px;\n"]))),G=y.ZP.ul(u||(u=(0,Z.Z)(["\n  display: flex;\n  justify-content: center;\n  margin-bottom: 32px;\n  padding: 8px;\n"]))),T=y.ZP.li(d||(d=(0,Z.Z)(["\n  :not(:last-child) {\n    margin-right: 16px;\n  }\n"]))),z=(0,y.ZP)(k.OL)(p||(p=(0,Z.Z)(["\n  display: inline-block;\n  padding: 8px;\n  border-radius: 6px;\n  font-weight: 600;\n  text-decoration: none;\n  color: inherit;\n  transition: color 250ms ease, background-color 250ms ease;\n\n  &.active {\n    color: rgb(255, 255, 255);\n    background-color: rgb(34, 139, 34);\n  }\n\n  :hover:not(.active),\n  :focus:not(.active) {\n    color: rgb(34, 139, 34);\n  }\n\n  :not(:last-child) {\n    margin-right: 16px;\n  }\n"]))),D=e(184),F=function(n){var t,e,r=n.movieDetails,i=r.poster_path,a=r.original_title,o=r.release_date,s=r.vote_average,c=r.overview,u=r.genres,d=null!==(t=null===(e=(0,v.TH)().state)||void 0===e?void 0:e.from)&&void 0!==t?t:"/",p="https://image.tmdb.org/t/p/w500".concat(i);return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsxs)(P,{children:[(0,D.jsx)(_,{src:i?p:w,alt:a}),(0,D.jsxs)(O,{children:[(0,D.jsx)(C,{}),(0,D.jsx)(U,{children:"".concat(a," (").concat(o.slice(0,4),")")}),(0,D.jsx)("p",{children:"User Score: ".concat(Math.round(10*s),"%")}),(0,D.jsx)(C,{}),(0,D.jsxs)(C,{children:[(0,D.jsx)(S,{children:"Overview"}),(0,D.jsx)("p",{children:null!==c&&void 0!==c?c:"Overview not found"})]}),(0,D.jsxs)(C,{children:[(0,D.jsx)(S,{children:"Genres"}),(0,D.jsx)("p",{children:u.length?u.map((function(n){return n.name})).join(", "):"Genres are not specified"})]})]})]}),(0,D.jsxs)(G,{children:[(0,D.jsx)(T,{children:(0,D.jsx)(z,{to:"cast",state:{from:d},children:"Cast"})}),(0,D.jsx)(T,{children:(0,D.jsx)(z,{to:"reviews",state:{from:d},children:"Reviews"})})]}),(0,D.jsx)(m.Suspense,{fallback:(0,D.jsx)(j.a,{}),children:(0,D.jsx)(v.j3,{})})]})},H=e(2497),R=e(7659),Y=e(9789),$=(0,y.ZP)(k.rU)(l||(l=(0,Z.Z)(["\n  display: inline-block;\n  margin-bottom: 16px;\n  padding: 10px;\n  border-radius: 8px;\n  font-weight: 600;\n  text-decoration: none;\n  color: inherit;\n  transition: color 250ms ease, background-color 250ms ease;\n\n  :hover,\n  :focus {\n    color: rgb(255, 255, 255);\n    background-color: rgb(34, 139, 34);\n  }\n"]))),q=function(){var n,t,e=(0,v.UO)().movieId,r=(0,v.TH)(),i=(0,m.useRef)(null!==(n=null===(t=r.state)||void 0===t?void 0:t.from)&&void 0!==n?n:"/"),a=(0,m.useState)({}),o=(0,f.Z)(a,2),s=o[0],c=o[1],u=(0,m.useState)("idle"),d=(0,f.Z)(u,2),p=d[0],l=d[1];return(0,m.useEffect)((function(){if(e){l("pending");var n=new AbortController;return(0,x.Z)(g().mark((function t(){var r;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,b.Y5)(e,n);case 3:r=t.sent,c(r),l("resolved"),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),console.error(t.t0.message),l("rejected");case 12:case"end":return t.stop()}}),t,null,[[0,8]])})))(),function(){n.abort()}}}),[e]),(0,D.jsx)(Y.$,{children:(0,D.jsxs)(R.W,{children:[(0,D.jsx)($,{to:i.current,children:"< Go back"}),"pending"===p&&(0,D.jsx)(j.a,{}),"rejected"===p&&(0,D.jsx)(H.P,{message:"Ooops, something went wrong"}),"resolved"===p&&s&&(0,D.jsx)(F,{movieDetails:s})]})})}},2497:function(n,t,e){e.d(t,{P:function(){return o}});var r=e(4300),i=e(5878),a=e(184),o=function(n){var t=n.message;return(0,a.jsxs)(r.v,{children:[(0,a.jsx)("img",{src:i,alt:"not found",width:"280px"}),(0,a.jsx)(r.U,{children:t})]})}},4300:function(n,t,e){e.d(t,{U:function(){return c},v:function(){return s}});var r,i,a=e(168),o=e(6444),s=o.ZP.div(r||(r=(0,a.Z)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  height: 100%;\n"]))),c=o.ZP.p(i||(i=(0,a.Z)(["\n  padding: 32px 0px;\n  font-size: 26px;\n  font-weight: 600;\n  text-align: center;\n  color: #777;\n"])))},9789:function(n,t,e){e.d(t,{$:function(){return a}});var r,i=e(168),a=e(6444).ZP.section(r||(r=(0,i.Z)(["\n  width: 100%;\n  padding: 16px 0px;\n"])))},4390:function(n,t,e){e.d(t,{Bt:function(){return m},Tg:function(){return u},Y5:function(){return x},vw:function(){return p},y:function(){return h}});var r=e(5861),i=e(7757),a=e.n(i),o=e(1044),s="https://api.themoviedb.org/3",c="76d635679cabf189c0749ed5946c0835";function u(n){return d.apply(this,arguments)}function d(){return(d=(0,r.Z)(a().mark((function n(t){var e,r,i;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e="".concat(s,"/trending/movie/day"),r={api_key:c},n.next=4,o.ZP.get(e,{params:r,signal:t.signal});case 4:return i=n.sent,n.abrupt("return",i.data.results);case 6:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function p(n,t){return l.apply(this,arguments)}function l(){return(l=(0,r.Z)(a().mark((function n(t,e){var r,i,u;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r="".concat(s,"/search/movie"),i={api_key:c,query:t},n.next=4,o.ZP.get(r,{params:i,signal:e.signal});case 4:return u=n.sent,n.abrupt("return",u.data.results);case 6:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function x(n,t){return f.apply(this,arguments)}function f(){return(f=(0,r.Z)(a().mark((function n(t,e){var r,i,u;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r="".concat(s,"/movie/").concat(t),i={api_key:c},n.next=4,o.ZP.get(r,{params:i,signal:e.signal});case 4:return u=n.sent,n.abrupt("return",u.data);case 6:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function h(n,t){return g.apply(this,arguments)}function g(){return(g=(0,r.Z)(a().mark((function n(t,e){var r,i,u;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r="".concat(s,"/movie/").concat(t,"/credits"),i={api_key:c},n.next=4,o.ZP.get(r,{params:i,signal:e.signal});case 4:return u=n.sent,n.abrupt("return",u.data.cast);case 6:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function m(n,t){return v.apply(this,arguments)}function v(){return(v=(0,r.Z)(a().mark((function n(t,e){var r,i,u;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r="".concat(s,"/movie/").concat(t,"/reviews"),i={api_key:c},n.next=4,o.ZP.get(r,{params:i,signal:e.signal});case 4:return u=n.sent,n.abrupt("return",u.data.results);case 6:case"end":return n.stop()}}),n)})))).apply(this,arguments)}},4757:function(n,t,e){n.exports=e.p+"static/media/no-poster.411d2669783f3b94de4d.jpg"},5878:function(n,t,e){n.exports=e.p+"static/media/notFound.3049e46501086cd73a73.jpg"}}]);
//# sourceMappingURL=296.8d907971.chunk.js.map